sudo: required
dist: trusty
language: cpp
cache: apt
addons:
  apt:
    packages:
      - lcov
      - libmyodbc
      - odbcinst
      - odbc-postgresql
services:
  - mysql
  - postgresql
env:
  - QT_SELECT=qt4 CONFIG=shared
  - QT_SELECT=qt4 CONFIG=static
  - QT_SELECT=qt5 CONFIG=shared
  - QT_SELECT=qt5 CONFIG=static
install:
  - tests/travis/install-build-depends
before_script:
  - mysql -e 'create database qdjango_test' -u root
  - psql -c 'create database qdjango_test' -U postgres
script:
  - tests/travis/build-and-test
